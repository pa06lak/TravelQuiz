<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Documentation</title>
  <link rel="stylesheet" href="stylesAPI.css">
</head>
<body>
  <header>
    <h1> This or That Quiz (Travel Edition)</h1>
  </header>








  
  <main>
    <!-- GET Destinations Based on IDs -->
    <section>
      <h2>1. GET Destinations Based on IDs</h2>
      <h3>Retrieve destination details based on the provided IDs.</h3>
      <h3>Endpoint</h3>
      <p><code>GET /api/destinations</code></p>
      <ul>
        <li><strong>Method:</strong> GET</li>
        <li><strong>URL:</strong> <code>http://localhost:3000/api/destinations</code></li>
        <li><strong>Query Parameters:</strong>
          <ul>
            <li><code>ids</code> (string, required): Comma-separated IDs of the destinations to retrieve.</li>
          </ul>
        </li>
      </ul>
      <h3>Response</h3>
      <pre><code>[
  {
    "id": "number",
    "name": "string",
    "continent": "string",
    "budget": "string",
    "duration": "string",
    "popularity": "number",
    "description": "string",
    "image": "string",
    "rating": "number",
    "count": "number"
  }
]</code></pre>
  </div>
  <h3>Success Response</h3>
  <p><strong>Status Code:</strong> 200 OK</p>
  <p>Returns a JSON array of destination objects matching the provided IDs.</p>
    </section>
  </div>
  <h3>Unsuccessful Response</h3>
  <h4>400 Bad Request</h4>
  <p>This error occurs if the <code>ids</code> query parameter is missing or invalid.</p>
  <h5>Example Response:</h5>
  <div class="example">
      <pre><code>{
"error": "Invalid ID query parameter"
}</code></pre>
  </div>
</div>




    <!-- GET List of Travel Destinations -->
    <section>
      <h2>2. GET List of Travel Destinations</h2>
      <p>Retrieve a list of all destinations.</p>
      <h3>Endpoint</h3>
      <p><code>GET /api/destinationsRead</code></p>
      <h3>Response</h3>
      <pre><code>[
  {
    "id": 0,
    "name": "",
    "continent": "",
    "budget": "",
    "duration": "",
    "popularity": 0,
    "description": "",
    "image": "",
    "rating": 0,
    "count": 0
  }
]</code></pre>
</div>
<h3>Success Response</h3>
<p><strong>Status Code:</strong> 200 OK</p>
<p>Returns all the destinations from the JSON file</p>
  </section>
</div>
<h3>Unsuccessful Response</h3>
<h4>500 Bad Request</h4>
<p>The error occurs if the server is unable to read the destinations file</p>
<h5>Example Response:</h5>
<div class="example">
    <pre><code>{
      "error": "Error reading destinations file"
    }</code></pre>
</div>
</div>
    </section>




    <!-- GET Question Options -->
    <section>
      <h2>3. GET Question Options</h2>
      <p>Retrieve a list of questions and their associated destination IDs.</p>
      <h3>Endpoint</h3>
      <p><code>GET /api/questions</code></p>
      <h3>Response</h3>
      <pre><code>[
  {
    "id": "",
    "question": "",
    "destinationIds": [0],
    "count": 0
  }
]</code></pre>
</div>
<h3>Success Response</h3>
<p><strong>Status Code:</strong> 200 OK</p>
<p>Returns the Questions from the JSON file</p>
  </section>
</div>
<h3>Unsuccessful Response</h3>
<h4>500 Internal Server Error</h4>
<p>This error occurs if there is an issue reading the <code>questions.json</code> file or parsing the data.</p>
<h5>Example Response:</h5>
<div class="example">
    <pre><code>{
      "error": "Error reading or parsing questions file"
    }</code></pre>
    </section>



    
    <!-- POST Update Destination Ratings -->
    <section>
      <h2>4. POST Update Destination Ratings</h2>
      <p>Update the rating for a specific destination.</p>
      <h3>Endpoint</h3>
      <p><code>POST /api/update-rating</code></p>
      <h3>Request Body</h3>
      <pre><code>{
  "destinationName": "Paris",
  "userRating": 4.5
}</code></pre>
      <h3>Response</h3>
      <pre><code>{
  "message": "Rating updated successfully",
  "destination": {
    "id": "number",
    "name": "string",
    "rating": "number",
    "count": "number"
  }
}</code></pre>
</section>
</div>
<h3>Success Response</h3>
<p><strong>Status Code:</strong> 200 OK</p>
<p>Updates the count and ratings of the JSON file</p>
</div>
<h3>Unsuccessful Responses</h3>
<h4>400 - Invalid Request Payload</h4>
  <p>If the request payload is missing required fields or if they are incorrect, the server will return a 400 status code.</p>
  <pre><code>{
    "error": "Invalid request payload"
  }</code></pre>

  <h4>404 - Destination Not Found</h4>
  <p>If the destination name does not exist in the database, the server will return a 404 status code.</p>
  <pre><code>{
    "error": "Destination not found"
  }</code></pre>

  <h4>500 - Internal Server Error</h4>
  <p>If there is an error while writing to the destinations file, the server will return a 500 status code.</p>
  <pre><code>{
    "error": "Internal server error occurred"
  }</code></pre>

    </section>







    <!-- POST Update Count of Question Options -->
    <section>
      <h2>5. POST Update Count of Question Options</h2>
      <p>Update the count for a specific question option.</p>
      <h3>Endpoint</h3>
      <p><code>POST /api/update-count</code></p>
      <h3>Request Body</h3>
      <pre><code>{
  "id": "string"
}</code></pre>
      <h3>Response</h3>
      <pre><code>{
  "message": "Count updated successfully",
  "question": {
    "id": "string",
    "question": "string",
    "destinationIds": [0],
    "count": 0
  }
}</code></pre>
    </section>
  </div>
  <h3>Success Response</h3>
  <p><strong>Status Code:</strong> 200 OK</p>
  <p>Updates the count of the question options in the JSON file</p>
  </div>
  <h3>Unsuccessful Responses</h3>
  <h4>400 - ID is required</h4>
  <p>If the request body does not include an ID, the server will return a 400 status code.</p>
    <pre><code>{
      "error": "ID is required"
    }</code></pre>
  
    <h4>404 - Question Not Found</h4>
    <p>If the question with the given ID is not found in the data, the server will return a 404 status code.</p>
    <pre><code>{
      "error": "Question not found"
    }</code></pre>
  
    <h4>500 - Error Reading File</h4>
      <p>If there is an error while reading the file, the server will return a 500 status code.</p>
      <pre><code>{
        "error": "Error reading file"
      }</code></pre>

    <h4>500 - Error Parsing JSON</h4>
    <p>If there is an error while parsing the JSON data from the file, the server will return a 500 status code.</p>
    <pre><code>{
      "error": "Error parsing JSON"
    }</code></pre>

    <h4>500 - Error Writing File</h4>
    <p>If there is an error while writing to the file, the server will return a 500 status code.</p>
    <pre><code>{
      "error": "Error writing file"
    }</code></pre>

    <!-- GET Question Options Counts -->
    <section>
      <h2>6. GET Count values for each Question Option</h2>
      <p>Retrieve the count values for each question option to be shown to the user.</p>
      <h3>Endpoint</h3>
      <p><code>GET /api/get-option-info</code></p>
      <h3>Response</h3>
      <pre><code>[
  {
    "question": "",
    "count": "number"
  }
]</code></pre>
</div>
<h3>Success Response</h3>
<p><strong>Status Code:</strong> 200 OK</p>
<p>Returns the count for each option from the JSON file</p>
  </section>
</div>
<h3>Unsuccessful Response</h3>
<h4>500 Internal Server Error</h4>
<p>When the ID does not exist</p>
<h5>Example Response:</h5>
<div class="example">
    <pre><code>{
      "error": "Option not found"
    }</code></pre>
    </section>

  </main>

</body>
</html>